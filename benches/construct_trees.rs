use std::hint::black_box;

use gungraun::{library_benchmark, library_benchmark_group, main};
use rustsat::{
    encodings::{nodedb::NodeById, totdb::Db},
    lit,
    types::Lit,
};

#[rustfmt::skip]
static THOUSAND_LITS: &[Lit] = &[
    lit![0], lit![1], lit![2], lit![3], lit![4], lit![5], lit![6], lit![7], lit![8], lit![9],
    lit![10], lit![11], lit![12], lit![13], lit![14], lit![15], lit![16], lit![17], lit![18],
    lit![19], lit![19], lit![20], lit![21], lit![22], lit![23], lit![24], lit![25], lit![26],
    lit![27], lit![28], lit![29], lit![30], lit![31], lit![32], lit![33], lit![34], lit![35],
    lit![36], lit![37], lit![38], lit![39], lit![40], lit![41], lit![42], lit![43], lit![44],
    lit![45], lit![46], lit![47], lit![48], lit![49], lit![50], lit![51], lit![52], lit![53],
    lit![54], lit![55], lit![56], lit![57], lit![58], lit![59], lit![60], lit![61], lit![62],
    lit![63], lit![64], lit![65], lit![66], lit![67], lit![68], lit![69], lit![70], lit![71],
    lit![72], lit![73], lit![74], lit![75], lit![76], lit![77], lit![78], lit![79], lit![80],
    lit![81], lit![82], lit![83], lit![84], lit![85], lit![86], lit![87], lit![88], lit![89],
    lit![90], lit![91], lit![92], lit![93], lit![94], lit![95], lit![96], lit![97], lit![98],
    lit![99], lit![100], lit![101], lit![102], lit![103], lit![104], lit![105], lit![106],
    lit![107], lit![108], lit![109], lit![110], lit![111], lit![112], lit![113], lit![114],
    lit![115], lit![116], lit![117], lit![118], lit![119], lit![119], lit![120], lit![121],
    lit![122], lit![123], lit![124], lit![125], lit![126], lit![127], lit![128], lit![129],
    lit![130], lit![131], lit![132], lit![133], lit![134], lit![135], lit![136], lit![137],
    lit![138], lit![139], lit![140], lit![141], lit![142], lit![143], lit![144], lit![145],
    lit![146], lit![147], lit![148], lit![149], lit![150], lit![151], lit![152], lit![153],
    lit![154], lit![155], lit![156], lit![157], lit![158], lit![159], lit![160], lit![161],
    lit![162], lit![163], lit![164], lit![165], lit![166], lit![167], lit![168], lit![169],
    lit![170], lit![171], lit![172], lit![173], lit![174], lit![175], lit![176], lit![177],
    lit![178], lit![179], lit![180], lit![181], lit![182], lit![183], lit![184], lit![185],
    lit![186], lit![187], lit![188], lit![189], lit![190], lit![191], lit![192], lit![193],
    lit![194], lit![195], lit![196], lit![197], lit![198], lit![199], lit![200], lit![201],
    lit![202], lit![203], lit![204], lit![205], lit![206], lit![207], lit![208], lit![209],
    lit![210], lit![211], lit![212], lit![213], lit![214], lit![215], lit![216], lit![217],
    lit![218], lit![219], lit![219], lit![220], lit![221], lit![222], lit![223], lit![224],
    lit![225], lit![226], lit![227], lit![228], lit![229], lit![230], lit![231], lit![232],
    lit![233], lit![234], lit![235], lit![236], lit![237], lit![238], lit![239], lit![240],
    lit![241], lit![242], lit![243], lit![244], lit![245], lit![246], lit![247], lit![248],
    lit![249], lit![250], lit![251], lit![252], lit![253], lit![254], lit![255], lit![256],
    lit![257], lit![258], lit![259], lit![260], lit![261], lit![262], lit![263], lit![264],
    lit![265], lit![266], lit![267], lit![268], lit![269], lit![270], lit![271], lit![272],
    lit![273], lit![274], lit![275], lit![276], lit![277], lit![278], lit![279], lit![280],
    lit![281], lit![282], lit![283], lit![284], lit![285], lit![286], lit![287], lit![288],
    lit![289], lit![290], lit![291], lit![292], lit![293], lit![294], lit![295], lit![296],
    lit![297], lit![298], lit![299], lit![300], lit![301], lit![302], lit![303], lit![304],
    lit![305], lit![306], lit![307], lit![308], lit![309], lit![310], lit![311], lit![312],
    lit![313], lit![314], lit![315], lit![316], lit![317], lit![318], lit![319], lit![319],
    lit![320], lit![321], lit![322], lit![323], lit![324], lit![325], lit![326], lit![327],
    lit![328], lit![329], lit![330], lit![331], lit![332], lit![333], lit![334], lit![335],
    lit![336], lit![337], lit![338], lit![339], lit![340], lit![341], lit![342], lit![343],
    lit![344], lit![345], lit![346], lit![347], lit![348], lit![349], lit![350], lit![351],
    lit![352], lit![353], lit![354], lit![355], lit![356], lit![357], lit![358], lit![359],
    lit![360], lit![361], lit![362], lit![363], lit![364], lit![365], lit![366], lit![367],
    lit![368], lit![369], lit![370], lit![371], lit![372], lit![373], lit![374], lit![375],
    lit![376], lit![377], lit![378], lit![379], lit![380], lit![381], lit![382], lit![383],
    lit![384], lit![385], lit![386], lit![387], lit![388], lit![389], lit![390], lit![391],
    lit![392], lit![393], lit![394], lit![395], lit![396], lit![397], lit![398], lit![399],
    lit![400], lit![401], lit![402], lit![403], lit![404], lit![405], lit![406], lit![407],
    lit![408], lit![409], lit![410], lit![411], lit![412], lit![413], lit![414], lit![415],
    lit![416], lit![417], lit![418], lit![419], lit![419], lit![420], lit![421], lit![422],
    lit![423], lit![424], lit![425], lit![426], lit![427], lit![428], lit![429], lit![430],
    lit![431], lit![432], lit![433], lit![434], lit![435], lit![436], lit![437], lit![438],
    lit![439], lit![440], lit![441], lit![442], lit![443], lit![444], lit![445], lit![446],
    lit![447], lit![448], lit![449], lit![450], lit![451], lit![452], lit![453], lit![454],
    lit![455], lit![456], lit![457], lit![458], lit![459], lit![460], lit![461], lit![462],
    lit![463], lit![464], lit![465], lit![466], lit![467], lit![468], lit![469], lit![470],
    lit![471], lit![472], lit![473], lit![474], lit![475], lit![476], lit![477], lit![478],
    lit![479], lit![480], lit![481], lit![482], lit![483], lit![484], lit![485], lit![486],
    lit![487], lit![488], lit![489], lit![490], lit![491], lit![492], lit![493], lit![494],
    lit![495], lit![496], lit![497], lit![498], lit![499], lit![500], lit![501], lit![502],
    lit![503], lit![504], lit![505], lit![506], lit![507], lit![508], lit![509], lit![510],
    lit![511], lit![512], lit![513], lit![514], lit![515], lit![516], lit![517], lit![518],
    lit![519], lit![519], lit![520], lit![521], lit![522], lit![523], lit![524], lit![525],
    lit![526], lit![527], lit![528], lit![529], lit![530], lit![531], lit![532], lit![533],
    lit![534], lit![535], lit![536], lit![537], lit![538], lit![539], lit![540], lit![541],
    lit![542], lit![543], lit![544], lit![545], lit![546], lit![547], lit![548], lit![549],
    lit![550], lit![551], lit![552], lit![553], lit![554], lit![555], lit![556], lit![557],
    lit![558], lit![559], lit![560], lit![561], lit![562], lit![563], lit![564], lit![565],
    lit![566], lit![567], lit![568], lit![569], lit![570], lit![571], lit![572], lit![573],
    lit![574], lit![575], lit![576], lit![577], lit![578], lit![579], lit![580], lit![581],
    lit![582], lit![583], lit![584], lit![585], lit![586], lit![587], lit![588], lit![589],
    lit![590], lit![591], lit![592], lit![593], lit![594], lit![595], lit![596], lit![597],
    lit![598], lit![599], lit![600], lit![601], lit![602], lit![603], lit![604], lit![605],
    lit![606], lit![607], lit![608], lit![609], lit![610], lit![611], lit![612], lit![613],
    lit![614], lit![615], lit![616], lit![617], lit![618], lit![619], lit![619], lit![620],
    lit![621], lit![622], lit![623], lit![624], lit![625], lit![626], lit![627], lit![628],
    lit![629], lit![630], lit![631], lit![632], lit![633], lit![634], lit![635], lit![636],
    lit![637], lit![638], lit![639], lit![640], lit![641], lit![642], lit![643], lit![644],
    lit![645], lit![646], lit![647], lit![648], lit![649], lit![650], lit![651], lit![652],
    lit![653], lit![654], lit![655], lit![656], lit![657], lit![658], lit![659], lit![660],
    lit![661], lit![662], lit![663], lit![664], lit![665], lit![666], lit![667], lit![668],
    lit![669], lit![670], lit![671], lit![672], lit![673], lit![674], lit![675], lit![676],
    lit![677], lit![678], lit![679], lit![680], lit![681], lit![682], lit![683], lit![684],
    lit![685], lit![686], lit![687], lit![688], lit![689], lit![690], lit![691], lit![692],
    lit![693], lit![694], lit![695], lit![696], lit![697], lit![698], lit![699], lit![700],
    lit![701], lit![702], lit![703], lit![704], lit![705], lit![706], lit![707], lit![708],
    lit![709], lit![710], lit![711], lit![712], lit![713], lit![714], lit![715], lit![716],
    lit![717], lit![718], lit![719], lit![719], lit![720], lit![721], lit![722], lit![723],
    lit![724], lit![725], lit![726], lit![727], lit![728], lit![729], lit![730], lit![731],
    lit![732], lit![733], lit![734], lit![735], lit![736], lit![737], lit![738], lit![739],
    lit![740], lit![741], lit![742], lit![743], lit![744], lit![745], lit![746], lit![747],
    lit![748], lit![749], lit![750], lit![751], lit![752], lit![753], lit![754], lit![755],
    lit![756], lit![757], lit![758], lit![759], lit![760], lit![761], lit![762], lit![763],
    lit![764], lit![765], lit![766], lit![767], lit![768], lit![769], lit![770], lit![771],
    lit![772], lit![773], lit![774], lit![775], lit![776], lit![777], lit![778], lit![779],
    lit![780], lit![781], lit![782], lit![783], lit![784], lit![785], lit![786], lit![787],
    lit![788], lit![789], lit![790], lit![791], lit![792], lit![793], lit![794], lit![795],
    lit![796], lit![797], lit![798], lit![799], lit![800], lit![801], lit![802], lit![803],
    lit![804], lit![805], lit![806], lit![807], lit![808], lit![809], lit![810], lit![811],
    lit![812], lit![813], lit![814], lit![815], lit![816], lit![817], lit![818], lit![819],
    lit![819], lit![820], lit![821], lit![822], lit![823], lit![824], lit![825], lit![826],
    lit![827], lit![828], lit![829], lit![830], lit![831], lit![832], lit![833], lit![834],
    lit![835], lit![836], lit![837], lit![838], lit![839], lit![840], lit![841], lit![842],
    lit![843], lit![844], lit![845], lit![846], lit![847], lit![848], lit![849], lit![850],
    lit![851], lit![852], lit![853], lit![854], lit![855], lit![856], lit![857], lit![858],
    lit![859], lit![860], lit![861], lit![862], lit![863], lit![864], lit![865], lit![866],
    lit![867], lit![868], lit![869], lit![870], lit![871], lit![872], lit![873], lit![874],
    lit![875], lit![876], lit![877], lit![878], lit![879], lit![880], lit![881], lit![882],
    lit![883], lit![884], lit![885], lit![886], lit![887], lit![888], lit![889], lit![890],
    lit![891], lit![892], lit![893], lit![894], lit![895], lit![896], lit![897], lit![898],
    lit![899], lit![900], lit![901], lit![902], lit![903], lit![904], lit![905], lit![906],
    lit![907], lit![908], lit![909], lit![910], lit![911], lit![912], lit![913], lit![914],
    lit![915], lit![916], lit![917], lit![918], lit![919], lit![919], lit![920], lit![921],
    lit![922], lit![923], lit![924], lit![925], lit![926], lit![927], lit![928], lit![929],
    lit![930], lit![931], lit![932], lit![933], lit![934], lit![935], lit![936], lit![937],
    lit![938], lit![939], lit![940], lit![941], lit![942], lit![943], lit![944], lit![945],
    lit![946], lit![947], lit![948], lit![949], lit![950], lit![951], lit![952], lit![953],
    lit![954], lit![955], lit![956], lit![957], lit![958], lit![959], lit![960], lit![961],
    lit![962], lit![963], lit![964], lit![965], lit![966], lit![967], lit![968], lit![969],
    lit![970], lit![971], lit![972], lit![973], lit![974], lit![975], lit![976], lit![977],
    lit![978], lit![979], lit![980], lit![981], lit![982], lit![983], lit![984], lit![985],
    lit![986], lit![987], lit![988], lit![989], lit![990], lit![991], lit![992], lit![993],
    lit![994], lit![995], lit![996], lit![997], lit![998], lit![999],
];

#[library_benchmark]
#[bench::short(20)]
#[bench::mid(100)]
#[bench::long(1000)]
fn tot_tree(len: usize) {
    let mut db = Db::default();
    db.lit_tree(black_box(&THOUSAND_LITS[..len]));
}

#[library_benchmark]
fn gte_tree() {
    let mut db = Db::default();
    db.weighted_lit_tree(&[
        (lit![0], 48),
        (lit![1], 24),
        (lit![2], 12),
        (lit![3], 6),
        (lit![4], 3),
        (lit![5], 2),
        (lit![6], 1),
    ]);
}

library_benchmark_group!(name = benches; benchmarks = tot_tree, gte_tree);
main!(library_benchmark_groups = benches);
